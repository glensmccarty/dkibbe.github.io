#+SETUPFILE: ~/.emacs.d/org-templates/level-5.org
#+TITLE: Bash Aliases
#+STARTUP: indent
#+DATE: <2012-10-20 Sat>
#+OPTIONS: ^:{}
#+startup: beamer
#+LaTeX_CLASS: beamer
#+BEAMER_FRAME_LEVEL: 2

* Overview

The Bash shell lets you create aliases for commands.  That is you can, for example, alias *ls* to *ls --color=auto* so you have a nice color output.  You place command aliases in the /~/.bashrc/ file or there may be system-wide aliases in //etc/bashrc/.  As an alternative you can place personal aliases in a separate file and use the *source* command in the /.bashrc/ file to load them when the shell starts.  Aliases defined in /.bashrc/ take precedence over system-wide aliases and the command itself.  Type the *alias* command without options to show currently set aliases.

** Shell Builtins

Shell builtins are commands built into the Bash shell program.  The *echo* command is an example.

#+begin_src bash
$ type echo
echo is a shell builtin
#+end_src

Some builtins are also available as regular commands as well as builtins.  Again, the *echo* example.

#+begin_src bash
$ which echo
/usr/bin/echo
#+end_src

The reason is that a shell script might run on a machine that doesn't have Bash can't use the shell builtin.

* Commands and Terms

+ bash :: The Bourne Again Shell, the default shell for most Linux distributions.
+ source :: The *source* command instructs Bash to include commands from the file referenced.
+ alias :: Create an temporary alias.
+ unalias :: Remove an alias to a command.
+ type :: A shell builtin that displays information about command type.
+ builtin :: A command that is part of the Bash shell.
+ help :: The Bash help command
+ which :: Looks in your PATH and shows which command will be run. 
+ whereis :: Locate the binary, source, and manual page files for a command independent of your PATH.
+ ~/.bash\_profile :: Your personal profile file which, most likely, sources /\/etc/bash_profile/ or /\/etc/profile/.
+ ~/.profile :: See /.bash_profile/
+ ~/.bashrc :: Your personal bashrc file which, most likely, sources /etc/bashrc.
+ ~/.bash\_login :: Programs and scripts in this file are run when you log in to a login shell. (*Note:* Using the *-* option to the *su* command gives you a login-like session.)
+ ~/.bash\_logout :: Programs and scripts in this file are run when you log out of the shell.
+ ~/.bash\_history :: Your Bash history is kept here.

* Prep

Clear history before starting.

#+begin_src bash
$ history -c
#+end_src

You can also run [[script:][script]] if you want.

* Create an alias for ls

In this lab you will create an alias for *ls* in a virtual machine.  You can type the *type* command to see that *ls* is currently aliased to *ls --color=auto*.  The *type* command lets you determine whether a command is a /command/, /builtin/, /alias/ or /function./

#+begin_src bash
$ type ls
ls is aliased to `ls --color=auto'
#+end_src

The *type* command itself is a shell builtin and as such there is no man page instead you can use Bash's built in *help* utility.

#+begin_src bash
$ type type
type is a shell builtin
#+end_src

#+begin_src bash
help type
Display information about command type.
#+end_src

You'll change this alias to *ls -F* which will remove the color option and make it easier to see directories in the terminal on the virtual machine.

#+begin_src bash
$ alias ls="ls -F"
#+end_src


** Add alias to ~/.bashrc

To make the alias permanent add it to ~/.bashrc.  If a ~/.bashrc file doesn't exist.  Copy it over from the /etc/skel directory.

#+begin_src bash
# .bashrc

# Source global definitions
if [ -f /etc/bashrc ]; then
. /etc/bashrc
fi

# User specific aliases and functions

alias ls='ls -F'

# export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib64/nvidia

export LD_LIBRARY_PATH=/usr/lib64/nvidia:$LD_LIBRARY_PATH

PATH=/opt/pgi/linux86/12.5/bin:$PATH; export PATH
MANPATH=$MANPATH:/opt/pgi/linux86/12.5/man; export MANPATH
LM_LICENSE_FILE=$LM_LICENSE_FILE:/opt/pgi/license.dat; export LM_LICENSE_FILE
#+end_src

* What to submit

Create a /cropped/ screen shot of the output of *ls -a ~/.*

* Resources

+ man bash
+ [[http://www.linuxcommand.org/wss0020.php][Aliases, .bash_profile, .bashrc]]
+ [[http://en.wikipedia.org/wiki/Alias_%2528command%2529][alias (command) Wikipedia]]
+ [[http://www.cyberciti.biz/tips/bash-aliases-mac-centos-linux-unix.html][30 Handy Bash Shell Aliases For Linux / Unix / Mac OS X]]

#+BEGIN_HTML
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png"/></a><br/> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>
#+END_HTML

# LocalWords:  builtins
