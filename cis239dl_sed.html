<h1 id="introduction">Introduction</h1>

<p>Sed is a **S**tream **ed**itor with these features:</p>

<ol>
<li>Sed reads files line by line.</li>
<li>By default sed does not edit the original file but just outputs to STOUT.</li>
<li>Sed is used mostly for search and replace.</li>
</ol>



<h2 id="preparation">Preparation</h2>

<p>Create three text files putting each name, word or sentence on a separate line.</p>

<ul>
<li><em>twain.txt</em> - Mark Twain, Huckelberry finn, Pappy FINN, Becky Thatcher, Injun Joe, Tom Sawyer</li>
<li><em>animals.txt</em> - cats, dogs, birds, fish, mice</li>
<li>linux.txt - Both Ubuntu and Mint are based on Debian., my website is at <a href="http://example.com/tux/">http://example.com/tux/</a>.</li>
</ul>



<h2 id="syntax-substitution">Syntax (substitution)</h2>

<p>Sed is often used to search for patterns and replace them with something else.</p>



<h3 id="example-1">Example 1</h3>

<p>To replace cats with dogs.</p>

<pre><code>$ sed 's/cats/dogs/' animals.txt
</code></pre>

<ul>
<li><strong>s</strong> is for <em>substitution</em> <br>
<!--+ **g** is for *global* (replace every instance)--></li>
<li><strong>cats</strong> is the term to be replaced</li>
<li><strong>dogs</strong> replaces <strong>cats</strong></li>
<li><em>animals.txt</em> one or more files to search</li>
<li>The single quotes protect the shell from the forward slashes.</li>
</ul>



<h3 id="example-2">Example 2</h3>

<p>The <strong>&amp;</strong> character is a shortcut standing for the item to be replaced.</p>

<pre><code>$ sed 's/cats/alley&amp;/' animals.txt
</code></pre>



<h3 id="example-3">Example 3</h3>

<p>The <strong>-n</strong> and <strong>p</strong> print only the pattern space.</p>

<pre><code>$ sed -n 's/Becky Thatcher/Ms. &amp;/p' twain.txt 
Ms. Becky Thatcher
</code></pre>



<h3 id="example-4">Example 4</h3>

<p>You can give <code>sed</code> multiple scripts by separating them with the <strong>;</strong> (semi-colon) character.</p>

<pre><code>$ sed -n 's/Mark/Mike/p; s/Tom/Tim/p' twain.txt
</code></pre>



<h3 id="example-4-1">Example 4</h3>

<p>The <strong>I</strong> (upper-case i) will apply the script to both upper and lower case.</p>

<pre><code>$ sed 's/finn/Finn/I' twain.txt
</code></pre>



<h3 id="example-5">Example 5</h3>

<p>The replacement can contain the null string.</p>

<pre><code>$ sed 's/Finn //' twain.txt
</code></pre>



<h2 id="syntax-deletion">Syntax (deletion)</h2>

<p>Sed can be used to delete lines containing text.</p>

<pre><code>$ sed '/Sawyer/d' twain.txt
</code></pre>



<h2 id="escaping-metacharacters">Escaping Metacharacters</h2>

<p>If you want to use a metacharacter; that is a special character that <code>sed</code> uses it must be escaped with the <strong>\</strong> (backslash). This fails since the <strong>&amp;</strong> (ampersand) is a metacharacter.</p>

<pre><code>$ sed 's/and/&amp;/' linux.txt
</code></pre>

<p>Escaping the <strong>&amp;</strong> lets <code>sed</code> treat it as a regular character.</p>

<pre><code>$ sed 's/and/\&amp;/' linux.txt
</code></pre>



<h2 id="replacing-the-default-separator">Replacing the default separator</h2>

<p>If you need to replace a string that contains the forward slash (<strong>/</strong>) multiple times you can replace the separator with another rather than escaping each instance.</p>

<pre><code>$ sed 's_http://example.com/tux/_http://tux.example.com_' linux.txt
</code></pre>



<h2 id="in-place-editing">In-Place editing</h2>

<p>By default <code>sed</code> does not edit the original file. This behavior can be changed with the <strong>-i</strong> option.</p>

<pre><code>$ sed -i 's/Mark/Mike/' twain.txt
</code></pre>



<h2 id="what-to-submit">What to Submit</h2>

<p>Write a <code>sed</code> script that will do the same as the <code>grep</code> command you wrote to remove unnecessary lines from <em>/etc/login.defs</em>. For full credit assume that comment lines may have one or more spaces before the <strong>#</strong> character.</p>

<h2 id="resources">Resources</h2>

<ul>
<li><a href="https://www.gnu.org/software/sed/manual/">Sed Manual</a></li>
<li><a href="http://www.ibm.com/developerworks/library/l-sed1/">Sed by Example</a></li>
</ul>

<blockquote>
  <p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p>
</blockquote>