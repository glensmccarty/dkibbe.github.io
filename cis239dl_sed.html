<h1 id="sed">SED</h1>

<p><code>sed</code> is a stream editor for filtering and transforming text and supports regular expressions. Try these examples. By default <code>sed</code> outputs to STDOUT and does not alter the original file.</p>



<h2 id="preparation">Preparation</h2>

<p>Create a file to work on.</p>

<pre><code>$ cat &gt; twain.txt
Mark Twain
Mr. Mark Twain
Samuel Clements
mark twain
Ctrl+D
</code></pre>

<h3 id="substitution">Substitution</h3>

<pre><code>$ sed 's/Mark/Mary/' twain.txt
</code></pre>

<p>The single quotes are necessary to protect the shell from spaces.</p>

<p>If you only want to see the lines changed use the <strong>-n</strong> and <strong>p</strong> options.</p>

<pre><code>sed -n 's/mark twain/Tom Sawyer/p' twain.txt
</code></pre>

<h3 id="multipe">Multipe</h3>

<pre><code>$ sed 's/Mark/Samuel/ ; s/Mr./Ms./' twain.txt
</code></pre>

<h3 id="deletion">Deletion</h3>

<p>The <strong>d</strong> instruction tell <code>sed</code> to delete.</p>

<pre><code>$ sed '/Mark/d' twain.txt
</code></pre>

<p>You can combine substitution and deletion.</p>

<pre><code>$ sed 's/Mark/Samuel/ ; /Mr. /d' twain.txt
</code></pre>

<h3 id="sed-scripts">Sed Scripts</h3>

<p>Sed scripts can be placed in a file. One script per line with no quotes.</p>

<pre><code>$ cat &gt; sed.txt
s/Mark/Samuel/
/Mr. /d
Ctrl+D
</code></pre>

<h3 id="edit-in-place">Edit In Place</h3>

<p>Sed can edit the original file with the <strong>-i</strong> option.</p>

<pre><code>$ sed -i 's/mark twain/Tom Sawyer/' twain.txt
</code></pre>

<p>And make a backup if a suffix is given.</p>

<pre><code>$ sed -i.bak 's/mark twain/Tom Sawyer/' twain.txt
</code></pre>

<h3 id="write-to-a-file">Write to a File</h3>

<p>The <strong>w</strong> instruction writes changes to the named file. The <strong>-n</strong> option suppresses output to the command line.</p>

<pre><code> $ sed -n 's/Mark/Tom/w twain.new' twain.txt
</code></pre>



<h3 id="display-pattern">Display Pattern</h3>

<p>Here <code>sed</code> just displays the pattern “PASS” at the start of a line.</p>

<pre><code>$ sed -n '/^PASS/p' /etc/login.defs
</code></pre>



<h3 id="replace-the-default-separator">Replace the Default Separator</h3>

<p>If you need to replace a string that contains the forward slash (<strong>/</strong>) multiple times you can replace the separator with another rather than escaping each instance.</p>

<p>Instead of:</p>

<pre><code>$ sed 's/http:\/\/example.com\/tux\//http:\/\/tux.example.com/' linux.txt
</code></pre>

<p>You can substitute another character for the separator.</p>

<pre><code>$ sed 's_http://example.com/tux/_http://tux.example.com_' linux.txt
</code></pre>

<h2 id="resources">Resources</h2>

<ul>
<li><a href="https://www.gnu.org/software/sed/manual/">GNU sed Users’ Manual</a></li>
<li><a href="http://www.ibm.com/developerworks/library/l-sed1/">Sed by Example</a></li>
<li><a href="http://www.ibm.com/developerworks/aix/tutorials/au-unixtips3/index.html">Introducing filters and regular expressions</a></li>
<li><a href="http://www.regular-expressions.info/posixbrackets.html">POSIX Character Classes</a></li>
</ul>

<blockquote>
  <p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p>
</blockquote>