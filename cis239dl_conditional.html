<h1 id="tests-and-conditionals">Tests and Conditionals</h1>



<h2 id="introduction">Introduction</h2>

<p>Tests and conditionals let you control the flow of your script.</p>



<h2 id="learning-objectives">Learning Objectives</h2>

<p><em>When you have successfully completed this assignment you will be able to:</em></p>

<ol>
<li>Use the <code>test</code> command to test for a condition.</li>
<li>Combine conditionals.</li>
</ol>

<h2 id="terms-you-should-know">Terms You Should Know</h2>

<ul>
<li><strong>test</strong></li>
<li><strong>[ ]</strong> or <strong>[[ ]]:</strong> Either will work but [[ ]] is preferred.</li>
<li><strong>-e</strong></li>
<li><strong>-d</strong></li>
<li><strong>-r</strong></li>
</ul>



<h2 id="the-test-command">The Test Command</h2>

<p>The <code>test</code> or <code>[[ ]]</code> command is used to test for a condition. If the condition is true an exit status of zero is returned.</p>



<pre class="prettyprint"><code class="language-bash hljs ">$ [[ <span class="hljs-number">1</span> <span class="hljs-operator">-lt</span> <span class="hljs-number">2</span> ]]
$ <span class="hljs-built_in">echo</span> $?
<span class="hljs-number">0</span></code></pre>

<p>If the condition is false an exit status of other than zero is returned.</p>



<pre class="prettyprint"><code class="language-bash hljs ">$ [[ <span class="hljs-number">2</span> <span class="hljs-operator">-lt</span> <span class="hljs-number">1</span> ]]
$ <span class="hljs-built_in">echo</span> $?
<span class="hljs-number">1</span></code></pre>

<h2 id="ifthenelse">if/then/else</h2>



<pre class="prettyprint"><code class="language-bash hljs ">$ <span class="hljs-keyword">if</span> [[ <span class="hljs-operator">-e</span> Documents/ ]]; <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"Directory exists."</span>; <span class="hljs-keyword">else</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"Directory does not exist."</span>;<span class="hljs-keyword">fi</span></code></pre>

<h3 id="combining-test-conditions">Combining Test Conditions</h3>

<p>The <strong>&amp;&amp;</strong> is a logical AND. <br>
The <strong>||</strong> is a logical OR.</p>

<h4 id="logical-and">Logical AND</h4>



<pre class="prettyprint"><code class="language-bash hljs ">$ <span class="hljs-keyword">if</span> [[ <span class="hljs-operator">-e</span> file.txt ]] &amp;&amp; [[ -w file.txt ]]; <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"File exists and is writable by me."</span>; <span class="hljs-keyword">else</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"File does not exist or is not writable by you."</span>;<span class="hljs-keyword">fi</span></code></pre>

<h4 id="logical-or">Logical OR</h4>



<pre class="prettyprint"><code class="language-bash hljs ">$ <span class="hljs-keyword">if</span> [[ -O file.txt ]] || [[ -G file.txt ]]; <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"File exists and owned by me or my group."</span>; <span class="hljs-keyword">else</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"File does not exist or is not owned by me or my group."</span>;<span class="hljs-keyword">fi</span></code></pre>

<h4 id="condition-not-met">Condition Not Met</h4>

<p>Reverse a test with a bang <strong>!</strong> character.</p>



<pre class="prettyprint"><code class="language-bash hljs ">$ <span class="hljs-keyword">if</span> ! [[ <span class="hljs-operator">-e</span> Docs/ ]]; <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"Directory does not exist."</span>; <span class="hljs-keyword">else</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"Directory does exist."</span>;<span class="hljs-keyword">fi</span></code></pre>

<h4 id="integer-test">Integer Test</h4>

<p>You can test if a value is true or not.</p>



<pre class="prettyprint"><code class="language-bash hljs ">$ test <span class="hljs-number">10</span> <span class="hljs-operator">-gt</span> <span class="hljs-number">1</span>
$ <span class="hljs-built_in">echo</span> <span class="hljs-string">"$?
$ 0</span></code></pre>

<p>or</p>



<pre class="prettyprint"><code class="language-bash hljs ">$ <span class="hljs-keyword">if</span> [[ <span class="hljs-number">10</span> <span class="hljs-operator">-lt</span> <span class="hljs-number">1</span> ]];<span class="hljs-keyword">then</span> clear;<span class="hljs-built_in">echo</span> <span class="hljs-string">"10 is greater than 1."</span>;<span class="hljs-keyword">else</span> clear;<span class="hljs-built_in">echo</span> <span class="hljs-string">"Condition is not true."</span>;<span class="hljs-keyword">fi</span> </code></pre>

<h4 id="string-test">String Test</h4>



<pre class="prettyprint"><code class="language-bash hljs ">$ <span class="hljs-keyword">if</span>
[[ <span class="hljs-variable">$USER</span> = dennisk ]]
<span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"Hi <span class="hljs-variable">$USER</span>"</span>
<span class="hljs-keyword">else</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"Do I know you?"</span>
<span class="hljs-keyword">fi</span></code></pre>

<h2 id="what-to-submit">What to Submit</h2>

<p>Write a script that tests whether you can read <code>/etc/passwd</code> and <code>/etc/shadow</code>. Output to <em>stdout</em> the appropriate answer.</p>

<h2 id="resources">Resources</h2>

<ul>
<li><a href="http://mywiki.wooledge.org/BashGuide/TestsAndConditionals">Gregâ€™s Bash Guide</a></li>
<li>help test (from the terminal)</li>
</ul>

<blockquote>
  <p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p>
</blockquote>