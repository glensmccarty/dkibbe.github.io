<h1 id="samba">Samba</h1>



<h2 id="overview">Overview</h2>

<p>Samba provides secure, stable and fast file and print services for Linux and Windows clients using the SMB/CIFS protocol.</p>

<h2 id="assignment-objectives">Assignment Objectives</h2>

<p><em>When you have successfully completed this assignment you will be able to:</em> </p>

<ul>
<li>Configure a Samba server on CentOS</li>
<li>Configure SELinux to work with Samba</li>
<li>Connect to the Samba server from a Windows workstation.</li>
</ul>

<h2 id="terms-you-should-know">Terms You Should Know</h2>

<dl>
<dt>/etc/samba/smb.conf</dt>
<dd>The Samba configuration file.</dd>

<dt>smb</dt>
<dd>Server Message Block daemon</dd>

<dt>nmb</dt>
<dd>NetBIOS Message Block daemon</dd>
</dl>

<h2 id="preparation">Preparation</h2>

<p>Use a CentOS virtual Machine on the 192.168.201.0/24 network.</p>

<h2 id="configure-samba">Configure Samba</h2>

<h3 id="the-comment-characters">The Comment Characters</h3>

<p><em>Samba configuration file uses two types of comments.</em></p>

<dl>
<dt>(hash) #</dt>
<dd>Comments and text</dd>

<dt>(semicolon) ;</dt>
<dd>Options</dd>
</dl>

<p><em>Be sure to uncomment options that you change.</em></p>

<h3 id="netbios">NetBIOS</h3>

<ol>
<li>Set <strong>netbios name</strong> to a unique name.</li>
<li>Set <strong>interfaces</strong></li>
<li>Set <strong>hosts</strong></li>
<li>Set <strong>security</strong></li>
</ol>

<p><em>Make sure the interface you enter is your active interface!</em></p>

<h2 id="testing-the-configuration">Testing the Configuration</h2>

<p>Use <code>testparm</code> to check the configuration. If any of you changes don't show up make sure you uncommented (removed the semi-colon) the line.</p>

<ol>
<li>Global settings</li>
<li>Network-related</li>
<li>Logging</li>
<li>Standalone</li>
<li>Domain Controller</li>
<li>Browse Control</li>
<li>Name Resolution</li>
<li>Printer options</li>
<li>Filesystem options</li>
</ol>

<p>Restart smb after making changes.</p>

<h2 id="add-a-samba-user">Add a Samba User</h2>

<ol>
<li>Add a Samba user. The account must already exist. The Samba password can be different.</li>
</ol>

<h2 id="selinux">SELinux</h2>

<p>SELinux needs to be configured for Samba. Follow the instructions in the <strong>smb.conf</strong> to configure SELinux. The <code>setsebool</code> command will take a while.</p>

<h2 id="firewall">Firewall</h2>

<p>Use <code>system-config-firewall-tui</code> to open ports for Samba.</p>

<p></p>

<h2 id="on-your-own">On Your Own</h2>

<p>SWAT is the browser-based configuration tool for Samba. See if you can set it up.</p>

<h2 id="connect">Connect</h2>

<p>From the Windows Run Dialog box connect to the Samba server.</p>

<p></p>

<h2 id="what-to-submit">What to Submit</h2>

<p>Submit a screenshot of the Windows Explorer accessing the Samba server.</p>

<h2 id="resources">Resources</h2>

<ul>
<li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/ch-File_and_Print_Servers.html#s1-Samba">Red Hat Deployment Guide</a></li>
<li>Samba Documentation</li>
</ul>